!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("flipbook",[],e):"object"==typeof exports?exports.flipbook=e():t.flipbook=e()}(self,(function(){return(()=>{var t={194:t=>{"use strict";function e(t){let e=document.createElement(t.tag);return o(e),e.attr(t.attr),e.add(t.children),e}function o(t){if(t)return t.c=function(){return 1===arguments.length&&"string"==typeof arguments[0]?t.innerHTML=arguments[0]:(t.innerHTML="",arguments.length&&s(t,Array.prototype.slice.call(arguments))),t},t.attr=e=>i(t,e),t.add=e=>s(t,e),t.rm=e=>t.removeChild(e),t.addClass=e=>function(t,e){if(t.classList&&t.classList.add)return t.classList.add(e);const o=t.getAttribute("class");o?t.setAttribute("class",`${o} ${e}`):t.setAttribute("class",e)}(t,e),t.rmClass=e=>function(t,e){if(t.classList&&t.classList.remove)return t.classList.remove(e);const o=t.getAttribute("class");if(!o)return;const n=o.split(" ").filter((t=>t!==e)).join(" ");t.setAttribute("class",n)}(t,e),t}function n(t,e,o,n){const r={tag:null,attr:{},children:[]};return i(e),i(o),i(n),r;function i(e){if(!r.tag){if(!e)return void(r.tag=t);if("string"==typeof e)return void(r.tag=e);r.tag=t}e&&(Array.isArray(e)||l(e)||"string"==typeof e||"number"==typeof e?r.children=r.children.concat(e):r.attr=Object.assign(r.attr,e))}}function r(t,e,o){o.class&&o.classes?o.class+=" "+o.classes:o.classes?o.class=o.classes:o.class||(o.class=""),delete o.classes;let n=(e=e.replace(/#/g,".#")).split(".");(e=n.shift())||(e=t);for(let t=0;t<n.length;t++)"#"==n[t][0]?o.id||(o.id=n[t].substring(1)):o.class+=" "+n[t];return o.class||delete o.class,e}function i(t,e){if(e)for(let o in e)if("class"===o||"classes"===o){if(e[o]){const n=t.getAttribute("class");let r=e[o].trim().split(/[ \t]+/g).join(" ");n&&(r+=" "+n),t.setAttribute("class",r)}}else if("style"===o){let n=e[o];if("string"==typeof n)t.style.cssText=n;else for(let e in n)t.style.setProperty(e,n[e])}else o.startsWith("on")?t.addEventListener(o.substring(2).toLowerCase(),e[o]):!1===e[o]?t.removeAttribute(o):e[o]?t.setAttribute(o,e[o]):t.setAttribute(o,"")}function s(t,e){if(e){Array.isArray(e)||(e=[e]);for(let o=0;o<e.length;o++){let n=e[o];n&&(Array.isArray(n)?s(t,n):(l(n)||(n=document.createTextNode(n)),t.appendChild(n)))}}}function l(t){return t&&t.nodeName&&t.nodeType}function a(t,o){let i=n("div",t,o);return i.tag=r("div",i.tag,i.attr),(t,o,s)=>{let l=n("div",t,o,s);return l.tag=r("div",l.tag,l.attr),i.attr.class&&l.attr.class&&(l.attr.class=i.attr.class+" "+l.attr.class),i.attr.style&&l.attr.style&&typeof i.attr.style==typeof l.attr.style&&("string"==typeof i.attr.style?l.attr.style=i.attr.style+";"+l.attr.style:l.attr.style=Object.assign({},i.attr.style,l.attr.style)),l.attr=Object.assign({},i.attr,l.attr),e(l)}}t.exports={h:function(t,o,i){let s=n("div",t,o,i);return s.tag=r("div",s.tag,s.attr),e(s)},wrap:o,getH:function(t,e){return t instanceof Element?o(t):(e||(e=document),e.contentDocument&&(e=e.contentDocument),o(e.getElementById(t)))},x:a,div:a("div"),svg:function(t,e,l){let a,c=n("svg",t,e,l);if(c.tag=r("svg",c.tag,c.attr),"<"==c.tag[0]){a=document.createElementNS("http://www.w3.org/2000/svg","svg"),a.innerHTML=t;const e=a.getElementsByTagName("svg")[0];e&&(a=e)}else a=document.createElementNS("http://www.w3.org/2000/svg",c.tag),i(a,c.attr),s(a,c.children);return o(a),a}}},187:t=>{"use strict";var e,o="object"==typeof Reflect?Reflect:null,n=o&&"function"==typeof o.apply?o.apply:function(t,e,o){return Function.prototype.apply.call(t,e,o)};e=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(o,n){function r(o){t.removeListener(e,i),n(o)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",r),o([].slice.call(arguments))}x(t,e,i,{once:!0}),"error"!==e&&function(t,e,o){"function"==typeof t.on&&x(t,"error",e,{once:!0})}(t,r)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function a(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function c(t,e,o,n){var r,i,s,c;if(l(o),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,o.listener?o.listener:o),i=t._events),s=i[e]),void 0===s)s=i[e]=o,++t._eventsCount;else if("function"==typeof s?s=i[e]=n?[o,s]:[s,o]:n?s.unshift(o):s.push(o),(r=a(t))>0&&s.length>r&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,c=f,console&&console.warn&&console.warn(c)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,o){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:o},r=f.bind(n);return r.listener=o,n.wrapFn=r,r}function p(t,e,o){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?o?[r.listener||r]:[r]:o?function(t){for(var e=new Array(t.length),o=0;o<e.length;++o)e[o]=t[o].listener||t[o];return e}(r):h(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var o=e[t];if("function"==typeof o)return 1;if(void 0!==o)return o.length}return 0}function h(t,e){for(var o=new Array(e),n=0;n<e;++n)o[n]=t[n];return o}function x(t,e,o,n){if("function"==typeof t.on)n.once?t.once(e,o):t.on(e,o);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(i){n.once&&t.removeEventListener(e,r),o(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e.push(arguments[o]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)n(a,this,e);else{var c=a.length,f=h(a,c);for(o=0;o<c;++o)n(f[o],this,e)}return!0},i.prototype.addListener=function(t,e){return c(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return c(this,t,e,!0)},i.prototype.once=function(t,e){return l(e),this.on(t,u(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,u(this,t,e)),this},i.prototype.removeListener=function(t,e){var o,n,r,i,s;if(l(e),void 0===(n=this._events))return this;if(void 0===(o=n[t]))return this;if(o===e||o.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,o.listener||e));else if("function"!=typeof o){for(r=-1,i=o.length-1;i>=0;i--)if(o[i]===e||o[i].listener===e){s=o[i].listener,r=i;break}if(r<0)return this;0===r?o.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(o,r),1===o.length&&(n[t]=o[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,o,n;if(void 0===(o=this._events))return this;if(void 0===o.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==o[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete o[t]),this;if(0===arguments.length){var r,i=Object.keys(o);for(n=0;n<i.length;++n)"removeListener"!==(r=i[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=o[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},i.prototype.listeners=function(t){return p(this,t,!0)},i.prototype.rawListeners=function(t){return p(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},929:t=>{t.exports='<svg viewBox="0 0 128 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g id="heart" transform="matrix(4,0,0,1,0,0)"><rect x="0" y="0" width="32" height="32" style="fill:none;"></rect><g transform="matrix(0.25,0,0,0.961049,0.00833333,-0.0203618)"><path d="M23.322,20.416L23.322,1.894L11.443,1.894L11.443,20.416L8.582,20.416L11.443,24.001L11.443,24.784L12.068,24.784L17.383,31.445L22.697,24.784L23.322,24.784L23.322,24.001L26.183,20.416L23.322,20.416Z" style="stroke:rgb(235,235,235);stroke-width:2.04px;"></path></g><g transform="matrix(0.558974,0,0,2.2359,-14.1835,7.40918)"><g><g transform="matrix(1,0,0,1,45.479,8.137)"><text x="0px" y="0px" style="font-family:&#x27;ArialMT&#x27;, &#x27;Arial&#x27;, sans-serif;font-size:12px;fill:rgb(235,235,235);">S</text></g><g transform="matrix(1,0,0,1,52.753,8.137)"><text x="0px" y="0px" style="font-family:&#x27;ArialMT&#x27;, &#x27;Arial&#x27;, sans-serif;font-size:12px;fill:rgb(235,235,235);">A<tspan x="7.113px 15.117px " y="0px 0px ">VE</tspan></text></g></g></g></g></svg>'},178:t=>{t.exports='<svg viewBox="0 0 128 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g id="heart" transform="matrix(4,0,0,1,0,0)"><rect x="0" y="0" width="32" height="32" style="fill:none;"></rect><g transform="matrix(0.223171,0,0,0.917689,0.785993,0.813137)"><path id="drawing" d="M16,6.4C19.368,0 26.105,0 29.474,3.2C32.842,6.4 32.842,12.8 29.474,19.2C27.116,24 21.053,28.8 16,32C10.947,28.8 4.884,24 2.526,19.2C-0.842,12.8 -0.842,6.4 2.526,3.2C5.895,0 12.632,0 16,6.4Z" style="stroke:rgb(235,235,235);stroke-width:2.21px;"></path></g><g transform="matrix(0.558974,0,0,2.2359,-14.1835,7.40918)"><text x="45.479px" y="8.137px" style="font-family:&#x27;ArialMT&#x27;, &#x27;Arial&#x27;, sans-serif;font-size:12px;fill:rgb(235,235,235);">L<tspan x="52.753px 56.687px 65.291px " y="8.137px 8.137px 8.137px ">IKE</tspan></text></g></g></svg>'},232:t=>{t.exports='<svg viewBox="0 0 156 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,0,-45.043)"><g id="share" transform="matrix(4.875,0,0,1,0,45.043)"><rect x="0" y="0" width="32" height="32" style="fill:none;"></rect><g transform="matrix(0.458645,0,0,2.2359,-11.6377,7.40918)"><text x="45.479px" y="8.137px" style="font-family:&#x27;ArialMT&#x27;, &#x27;Arial&#x27;, sans-serif;font-size:12px;fill:rgb(235,235,235);">S<tspan x="54.083px 63.349px 71.953px 81.219px " y="8.137px 8.137px 8.137px 8.137px ">HARE</tspan></text></g><g id="border" transform="matrix(0.0118093,0,0,0.060335,1.06064,0.554244)"><path d="M25.18,462.375C23.353,461.444 20.653,459.103 19.18,457.173C16.657,453.87 16.48,452.925 16.155,441.082C15.723,425.312 17.571,384.749 19.531,366.961C24.689,320.151 35.564,285.863 54.117,257.915C62.749,244.912 82.29,225.478 95.556,216.703C121.434,199.586 155.085,187.596 194,181.626C208.819,179.352 218.402,178.416 247.25,176.425L256,175.82L256,118.311C256,54.432 255.789,56.551 262.683,51.293C267.155,47.882 274.236,47.175 278.765,49.688C284.389,52.809 492.63,245.7 494.398,249.427C496.437,253.724 496.435,258.281 494.39,262.589C492.613,266.334 284.411,459.184 278.768,462.312C274.234,464.824 267.155,464.118 262.682,460.707C255.788,455.448 256,457.578 256,393.599C256,339.408 255.896,336 254.25,336.005C247.615,336.022 217.397,338.314 207.5,339.55C149.93,346.742 109.51,364.787 83.3,395C73.881,405.857 62.713,423.181 53.117,441.819C47.025,453.651 43.802,458.812 41.325,460.701C36.963,464.028 29.866,464.764 25.18,462.375ZM373.89,332.186C418.775,290.763 455.5,256.477 455.5,255.995C455.5,255.513 417.925,220.426 372,178.023L288.5,100.927L287.5,197.658L284.806,201.188C280.281,207.119 277.887,207.682 254.278,208.37C202.224,209.886 164.894,217.108 134.131,231.614C82.174,256.112 56.413,300.671 50.403,376.44L49.694,385.38L57.597,375.99C88.114,339.729 132.394,318.345 196.211,309.046C216.288,306.12 235.339,304.745 257.564,304.616L277.628,304.5L281.173,307.194C288.126,312.476 288,311.423 288,364.056L288,411.31L290.14,409.405C291.316,408.357 329.004,373.608 373.89,332.186Z" style="fill:rgb(235,235,235);fill-rule:nonzero;"></path></g><g id="fill" transform="matrix(0.0118093,0,0,0.060335,1.06064,0.554244)"><path d="M373.89,332.186C418.775,290.763 455.5,256.477 455.5,255.995C455.5,255.513 417.925,220.426 372,178.023L288.5,100.927L287.5,197.658L284.806,201.188C280.281,207.119 277.887,207.682 254.278,208.37C202.224,209.886 164.894,217.108 134.131,231.614C82.174,256.112 56.413,300.671 50.403,376.44L49.694,385.38L57.597,375.99C88.114,339.729 132.394,318.345 196.211,309.046C216.288,306.12 235.339,304.745 257.564,304.616L277.628,304.5L281.173,307.194C288.126,312.476 288,311.423 288,364.056L288,411.31L290.14,409.405C291.316,408.357 329.004,373.608 373.89,332.186Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},610:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,0,-88.7776)"><g id="zoom" transform="matrix(1,0,0,1,0,88.7776)"><rect x="0" y="0" width="32" height="32" style="fill:none;"></rect><g transform="matrix(5.74607,0,0,1.22583,-7.44566,-3.61325)"><g id="path236" transform="matrix(0.0110823,0,0,0.0519482,1.2451,2.67374)"><path d="M425,495.012C414.065,493.529 405.885,490.365 395.672,483.666C392.866,481.826 378.952,467.518 362.445,449.5C346.826,432.45 323.878,407.475 311.45,394C299.022,380.525 285.581,365.45 281.581,360.5C271.011,347.419 272.747,348.019 260.764,353.311C247.945,358.972 237.433,362.258 222.862,365.159C213.575,367.007 208.121,367.425 193,367.447C173.09,367.476 166.335,366.641 148.226,361.907C105.228,350.668 66.858,322.372 43.263,284.5C0.598,216.02 9.23,128.744 64.357,71.236C89.386,45.125 120.412,28.042 156.942,20.258C168.439,17.808 171.401,17.582 192,17.582C212.617,17.582 215.555,17.807 227.102,20.267C243.854,23.836 254.653,27.671 271.5,36.035C289.697,45.07 301.708,53.723 316.564,68.5C338.687,90.505 352.762,114.281 361.414,144.264C366.285,161.143 367.418,170.048 367.426,191.5C367.438,222.803 364.13,237.308 349.387,270.603C349.118,271.21 354.909,277.06 362.255,283.603C369.601,290.146 382.336,301.661 390.555,309.192C398.775,316.722 422.247,337.986 442.715,356.446C469.924,380.984 481.069,391.684 484.165,396.244C497.76,416.263 499.064,441.512 487.638,463.5C483.073,472.284 471.344,483.612 462,488.261C450.242,494.111 436.647,496.591 425,495.012Z" style="fill:rgb(235,235,235);fill-rule:nonzero;"></path></g><g transform="matrix(0.368872,0,0,1.72062,-2.60359,-160.615)"><circle cx="16.179" cy="100.644" r="4.133"></circle></g></g></g></g></svg>'},385:(t,e,o)=>{"use strict";o.r(e),o.d(e,{init:()=>h});var n=o(187),r=o(194),i=o(178),s=o.n(i),l=o(232),a=o.n(l),c=o(610),f=o.n(c),u=o(929),p=o.n(u);class d extends n{}function h(t,e,o,n){"function"==typeof o&&(n=o,o={}),o||(o={}),n||(n=()=>1);const i=(0,r.getH)(e);if(!i){const t="flipbook-viewer: Failed to find container for viewer: "+e;return console.error(t),void n(t)}const l=new d;l.version="1.4.2";const c={color:{bg:o.backgroundColor||"#353535",bx:o.boxColor||"#353535",tb:o.toolbarColor||"#353535",tbs:o.toolbarSeparator||"#9e9e9e"},sz:{bx_border:o.boxBorder||4,boxw:o.width||800,boxh:o.height||600,tbh:o.toolbarSize||24},downloadurl:o.downloadurl,toolbar:{hidesavebtn:o.hidesavebtn},app:i,book:t,viewer:l};!function(t,e){const o={e:(0,r.h)("canvas")};o.ctx=o.e.getContext("2d"),o.e.width=t.sz.boxw,o.e.height=t.sz.boxh,t.canvas=o,t.book.getPage(1,((o,n)=>{if(o)return e(o);!function(t,e,o){let n=.8*t.sz.boxh,r=2*e.width*(n/e.height);const i=.8*t.sz.boxw;r>i&&(r=i,n=e.height*(r/(2*e.width)));o({top:(t.sz.boxh-n)/2,left:(t.sz.boxw-r)/2,mid:t.sz.boxw/2,width:r,height:n})}(t,n,(o=>{t.layout=o,e()}))}))}(c,(t=>{if(t)return n(t);!function(t,e){const o=t.sz.tbh+"px",n=.6*t.sz.tbh+"px",i=.75*t.sz.tbh+"px",l=(0,r.h)(".flipbook__toolbar",{style:{"box-sizing":"border-box",width:t.sz.boxw+"px","margin-top":"0",padding:"8px",background:t.color.tb,color:"#eee","font-size":o,"line-height":o,position:"relative","border-top":`1px solid ${t.color.tbs}`}}),c=function(){return{e:(0,r.h)("span",{onclick:e}," > "),onclick:e};function e(){t.flipNdx||2*t.showNdx+1>=t.book.numPages()||(t.flipNdx=t.showNdx+1,b(),C())}}(),u=function(){return{e:(0,r.h)("span",{onclick:e}," < "),onclick:e};function e(){t.flipNdx||!t.showNdx||t.book.numPages()<=1||(t.flipNdx=t.showNdx-1,b(),C())}}();b();const d=function(){const e=(0,r.svg)(f());return e.attr({height:i,onclick:o,style:{cursor:"pointer",cursor:"zoom-in","user-select":"none","padding-right":i,opacity:.8},onmouseenter:()=>e.attr({style:{opacity:1}}),onmouseleave:()=>e.attr({style:{opacity:.8}})}),{e,onclick:o};function o(e){e=Number(e),isNaN(e)&&(e=2*t.zoom+1)>4&&(e=0),e?y({draw:e=>{t.zoom=e.zoom,v(t)},duration:500,from:{zoom:t.zoom},to:{zoom:e},timing:t=>t*t*(3-2*t)}):(t.zoom=0,t.pan=null,v(t))}}(),h=function(){let e=!1;const o=(0,r.svg)(s());o.attr({height:n,onclick:l,style:{cursor:"pointer","padding-right":"8px",opacity:.8},onmouseenter:()=>o.attr({style:{opacity:1}}),onmouseleave:()=>o.attr({style:{opacity:.8}})});const i=(0,r.getH)("drawing",o);return{e:o,onclick:l};function l(o){e=o&&"object"!=typeof o?o:!e,t.viewer.emit("liked",e);const n=e?"red":"#eee";i.attr({style:{fill:n}})}}(),x=function(){const e=(0,r.svg)(a());return e.attr({height:n,onclick:o,style:{cursor:"pointer","padding-right":"8px",opacity:.8},onmouseenter:()=>e.attr({style:{opacity:1}}),onmouseleave:()=>e.attr({style:{opacity:.8}})}),{e,onclick:o};function o(){t.viewer.emit("shared");const e=window.location.href;prompt("Copy this link to share",e)}}(),g=function(){if(t.toolbar&&t.toolbar.hidesavebtn)return;if(!t.downloadurl)return;const e=(0,r.svg)(p());return e.attr({height:n,onclick:o,style:{cursor:"pointer","padding-right":"8px",opacity:.8},onmouseenter:()=>e.attr({style:{opacity:1}}),onmouseleave:()=>e.attr({style:{opacity:.8}})}),{e,onclick:o};function o(){t.viewer.emit("downloaded"),window.location.href=t.downloadurl}}(),w=[h.e,x.e];function b(){const e={cursor:"pointer","user-select":"none",opacity:"1"},o={cursor:"not-allowed","user-select":"none",opacity:"0.5"};if(void 0!==t.flipNdx&&null!==t.flipNdx)return u.e.attr({style:o}),void c.e.attr({style:o});!t.showNdx||t.book.numPages()<=1?u.e.attr({style:o}):u.e.attr({style:e}),2*t.showNdx+1>=t.book.numPages()?c.e.attr({style:o}):c.e.attr({style:e})}function C(){y({draw:e=>{t.flipFrac=e.flipFrac,function(t){v(t);const e=t.canvas,o=2*t.flipNdx,n=o+1,r=m(t),i=.5-Math.abs(.5-t.flipFrac);function s(o,n){e.ctx.fillStyle=o;const r=t.sz.bx_border;e.ctx.fillRect(n.left-r,n.top-r,n.width+2*r,n.height+2*r)}function l(t,e){const o=t.sz.bx_border;return{left:e.left-o,top:e.top-o,width:e.width+2*o,height:e.height+2*o}}e.ctx.save(),t.book.getPage(o,((o,a)=>{if(o)return console.error(o);t.book.getPage(n,((o,n)=>{if(o)return console.error(o);!function(o,n,a,c){let f,u,p,d,h,x,g,m,v;if(t.showNdx<t.flipNdx){f=Object.assign({},r),f.width/=2,f.left=r.mid,u=f.left+(1-a)*f.width,p=f.width*a,h=l(t,f),e.ctx.save(),d=new Path2D,d.rect(u,h.top,p,h.height),e.ctx.clip(d),n?e.ctx.drawImage(n.img,f.left,f.top,f.width,f.height):s(t.zoom?t.color.bg:t.color.bx,h),e.ctx.restore(),f=Object.assign({},r),f.left+=(1-a)*f.width,f.width/=2,p=f.width*a,x=f.height,g=f.top,f.height*=1+.1*i,f.top-=(f.height-x)/2,e.ctx.save(),d=new Path2D,d.moveTo(f.left,g),d.lineTo(f.left,g+x),m={x:f.left+p/2,y:f.top+f.height},v={x:f.left+p,y:g+x},d.quadraticCurveTo(m.x,m.y,v.x,v.y),d.lineTo(v.x,g),m={x:f.left+p,y:f.top},v={x:f.left,y:g},d.quadraticCurveTo(m.x,m.y,v.x,v.y),e.ctx.clip(d),e.ctx.drawImage(o.img,f.left,f.top,f.width,f.height),e.ctx.restore(),e.ctx.save();const c=f.width/2*Math.max(Math.min(i,.5),0);e.ctx.strokeStyle="rgba(0,0,0,"+.1*i+")",e.ctx.lineWidth=30*i,e.ctx.beginPath(),e.ctx.moveTo(f.left,g),e.ctx.lineTo(f.left,g+x),e.ctx.stroke();let y=e.ctx.createLinearGradient(f.left+p,g,f.left+p+c,g);y.addColorStop(0,"rgba(0,0,0,"+.3*i+")"),y.addColorStop(.8,"rgba(0,0,0,0.0)"),e.ctx.fillStyle=y,e.ctx.fillRect(f.left+p,g,p+c,x),e.ctx.restore()}else{f=Object.assign({},r),f.width/=2,p=f.width*a+t.sz.bx_border,h=l(t,f),e.ctx.save(),d=new Path2D,d.rect(h.left,h.top,p,h.height),e.ctx.clip(d),o?e.ctx.drawImage(o.img,f.left,f.top,f.width,f.height):s(t.zoom?t.color.bg:t.color.bx,f),e.ctx.restore(),f=Object.assign({},r),f.width/=2,u=f.left+a*f.width,f.left=u-(1-a)*f.width,p=f.width*a,x=f.height,g=f.top,f.height*=1+.1*i,f.top-=(f.height-x)/2,e.ctx.save(),d=new Path2D,d.moveTo(u,g),d.lineTo(u,g+x),m={x:u+p/2,y:f.top+f.height},v={x:u+p,y:g+x},d.quadraticCurveTo(m.x,m.y,v.x,v.y),d.lineTo(v.x,g),m={x:u+p,y:f.top},v={x:u,y:g},d.quadraticCurveTo(m.x,m.y,v.x,v.y),e.ctx.clip(d),e.ctx.drawImage(n.img,f.left,f.top,f.width,f.height),e.ctx.restore(),e.ctx.save();const c=f.width/2*Math.max(Math.min(i,.5),0);e.ctx.strokeStyle="rgba(0,0,0,"+.1*i+")",e.ctx.lineWidth=30*i,e.ctx.beginPath(),e.ctx.moveTo(u+p,g),e.ctx.lineTo(u+p,g+x),e.ctx.stroke();let y=e.ctx.createLinearGradient(u,g,u-c,g);y.addColorStop(0,"rgba(0,0,0,"+.3*i+")"),y.addColorStop(.8,"rgba(0,0,0,0.0)"),e.ctx.fillStyle=y,e.ctx.fillRect(u-c,g,c,x),e.ctx.restore()}c()}(a,n,t.flipFrac,(()=>e.ctx.restore()))}))}))}(t)},duration:1111,from:{flipFrac:0},to:{flipFrac:1},timing:t=>t*t*(3-2*t),ondone:()=>{t.showNdx=t.flipNdx,t.flipNdx=null,b(),v(t)}})}g&&w.push(g.e),l.c((0,r.h)("div",{style:{position:"absolute"}},w),(0,r.h)("div",{style:{position:"absolute",right:"0"}},[d.e]),(0,r.h)("div.flipbook__arrow-buttons",{style:{"text-align":"center"}},[u.e,c.e])),t.toolbar={e:l,nav:{nextPage:c.onclick,prevPage:u.onclick},zoom:d.onclick,heart:h.onclick,share:x.onclick},e()}(c,(t=>{if(t)return n(t);i.c(c.canvas.e,c.toolbar.e),function(t){const e=[x(t)],o={};["onmouseenter","onmouseleave","onmousemove","onclick","onmousedown","onmouseup"].map((t=>{o[t]=o=>{e.map((e=>{e[t]&&e[t](o)}))}})),t.app.attr(o)}(c),c.zoom=0,c.showNdx=0,l.nav=c.toolbar.nav,l.zoom=c.toolbar.zoom,l.like=c.toolbar.heart,l.share=c.toolbar.share,c.downloadurl&&(l.download=c.toolbar.download),n(null,l),o.popup&&history.pushState({},"","#"),v(c)}))}))}function x(t){let e;return{onmouseleave:function(t){e=null},onmousedown:function(o){t.zoom&&(e=g(t,o),t.pan&&(e.x-=t.pan.x,e.y-=t.pan.y))},onmouseup:function(t){e=null},onmousemove:function(o){const n=g(t,o);e&&function(t,e){const o=function(t){const e=m(t);return{top:e.top,left:e.left,bottom:e.top+e.height,right:e.left+e.width}}(t);return o.top<=e.y&&o.bottom>=e.y&&o.left<=e.x&&o.right>=e.x}(t,n)?(t.pan={x:n.x-e.x,y:n.y-e.y},v(t)):e=null}}}function g(t,e){const o=t.app.getBoundingClientRect();return{x:e.clientX-o.x,y:e.clientY-o.y}}function m(t){let e=t.layout;if(t.zoom>0){if(e=Object.assign({},e),t.zoom){const o=.5*t.zoom;e.left=e.left-e.width*o/2,e.top=e.top-e.height*o/2,e.width=e.width*(1+o),e.height=e.height*(1+o)}t.pan&&(e.left+=t.pan.x,e.top+=t.pan.y,e.mid+=t.pan.x)}return e}function v(t){const e=t.canvas,o=2*t.showNdx,n=o+1;function r(t,o){e.ctx.drawImage(t.img,o.left,o.top,o.width,o.height)}e.ctx.save(),e.ctx.fillStyle=t.color.bg,e.ctx.fillRect(0,0,t.sz.boxw,t.sz.boxh),t.book.getPage(o,((i,s)=>{if(i)return console.error(i);!t.flipNdx&&s&&t.viewer.emit("seen",o),t.book.getPage(n,((o,i)=>{if(o)return console.error(o);!t.flipNdx&&i&&t.viewer.emit("seen",n),function(o,n,i){const s=m(t);0==t.zoom&&function(o){e.ctx.fillStyle=t.color.bx;const n=t.sz.bx_border;e.ctx.fillRect(o.left-n,o.top-n,o.width+2*n,o.height+2*n)}(s);const l=Object.assign({},s),a=Object.assign({},s);l.width/=2,a.width/=2,a.left=s.mid,o&&r(o,l),n&&r(n,a),e.ctx.restore()}(s,i)}))}))}function y({draw:t,duration:e,from:o,to:n,timing:r,ondone:i}){i||(i=()=>1),r||(r=t=>t);const s=Date.now();!function l(){let a=(Date.now()-s)/e;a>1&&(a=1);const c=function(t){t=r(t);const e=Object.assign({},o);for(let r in o){const i=Number(o[r]),s=Number(n[r]);e[r]=i+(s-i)*t}return e}(a);t(c),1===a?i():requestAnimationFrame(l)}()}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}return o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o(385)})()}));